nav.navbar.navbar-default.row
  .container
    // Brand and toggle get grouped for better mobile display
    .navbar-header
      button.navbar-toggle.collapsed(type='button', data-toggle='collapse', data-target='#bs-example-navbar-collapse-1', aria-expanded='false')
        span.sr-only Toggle navigation
        span.icon-bar
        span.icon-bar
        span.icon-bar
      a.navbar-brand(href='/') books-to-all
    // Collect the nav links, forms, and other content for toggling
    #bs-example-navbar-collapse-1.collapse.navbar-collapse

      ul.nav.navbar-nav
        li
          a(href="/") Home
        if user
          li
            a Hi, #{user.local.displayName}!

      ul.nav.navbar-nav.navbar-right
        if user
          li
            a(href='/mytrades') My Trades
          li
            a(href='/books/all') All Books
          li
            a(href='/books/mine') My Books
          li
            a(href='/profile')
              span.glyphicon.glyphicon-cog
          li
            a(href='/logout')
              span.glyphicon.glyphicon-off
        else
          li
            a(href='/signup') Sign up
          li
            a(href='/login') Login

      // /.navbar-collapse
    // /.container-fluid

script.
  let currentUrl = window.location.href;

  // Get Bootstrap navbars and iterate
  let navbars = document.getElementsByClassName('nav navbar-nav');
  for (let i = 0; i < navbars.length; i++) {

    // Get list items from navbars and iterate
    let liList = navbars[i].getElementsByTagName('LI');
    for (let j = 0; j < liList.length; j++) {

      // Get Links from every list item and iterate
      let linksList = liList[j].getElementsByTagName('A');
      for (let k = 0; k < linksList.length; k++) {

        // Active list items that have links matching current url
        if (linksList[k].href == currentUrl) {
          liList[j].classList.add('active');
        }
      }
    }
  }
